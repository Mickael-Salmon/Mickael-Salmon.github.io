<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  Utilisation de Poetry pour la gestion des d√©pendances en Python ¬∑ Micka√´l Salmon
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Micka√´l Salmon">
<meta name="description" content="Bienvenue ! Link to heading Vous trouverez ici le Projet 12 du parcours D√©veloppeur d&rsquo;application - Python üëã Link to heading D√©veloppez une architecture back-end s√©curis√©e avec Python et SQL Link to heading GitHub Repository
Contexte Link to heading Epic Events est une entreprise qui organise des √©v√©nements (f√™tes, r√©unions professionnelles, manifestations hors les murs) pour ses clients. Ils souhaitent d√©velopper un logiciel CRM (Customer Relationship Management) pour am√©liorer leur travail.">
<meta name="keywords" content="blog,developer,personal">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Utilisation de Poetry pour la gestion des d√©pendances en Python"/>
<meta name="twitter:description" content="Bienvenue ! Link to heading Vous trouverez ici le Projet 12 du parcours D√©veloppeur d&rsquo;application - Python üëã Link to heading D√©veloppez une architecture back-end s√©curis√©e avec Python et SQL Link to heading GitHub Repository
Contexte Link to heading Epic Events est une entreprise qui organise des √©v√©nements (f√™tes, r√©unions professionnelles, manifestations hors les murs) pour ses clients. Ils souhaitent d√©velopper un logiciel CRM (Customer Relationship Management) pour am√©liorer leur travail."/>

<meta property="og:title" content="Utilisation de Poetry pour la gestion des d√©pendances en Python" />
<meta property="og:description" content="Bienvenue ! Link to heading Vous trouverez ici le Projet 12 du parcours D√©veloppeur d&rsquo;application - Python üëã Link to heading D√©veloppez une architecture back-end s√©curis√©e avec Python et SQL Link to heading GitHub Repository
Contexte Link to heading Epic Events est une entreprise qui organise des √©v√©nements (f√™tes, r√©unions professionnelles, manifestations hors les murs) pour ses clients. Ils souhaitent d√©velopper un logiciel CRM (Customer Relationship Management) pour am√©liorer leur travail." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mickael-salmon.github.io/projects/pythoncrm/" /><meta property="article:section" content="projects" />
<meta property="article:published_time" content="2023-04-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-04-01T00:00:00+00:00" />




<link rel="canonical" href="https://mickael-salmon.github.io/projects/pythoncrm/">


<link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.e1bdf152d93b060b06ba5d496486ed9c201a8b95d335e035beb5faebe3b61cad.css" integrity="sha256-4b3xUtk7BgsGul1JZIbtnCAai5XTNeA1vrX66&#43;O2HK0=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="/img/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      Micka√´l Salmon
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/A%20propos/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/projects/">Projets</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container page">
  <article>
    <header>
      <h1 class="title">
        <a class="title-link" href="https://mickael-salmon.github.io/projects/pythoncrm/">
          Utilisation de Poetry pour la gestion des d√©pendances en Python
        </a>
      </h1>
    </header>

    <!-- raw HTML omitted -->
<h1 id="bienvenue-">
  Bienvenue !
  <a class="heading-link" href="#bienvenue-">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<h2 id="vous-trouverez-ici-le-projet-12-du-parcours-d√©veloppeur-dapplication---python-">
  Vous trouverez ici le Projet 12 du parcours D√©veloppeur d&rsquo;application - Python üëã
  <a class="heading-link" href="#vous-trouverez-ici-le-projet-12-du-parcours-d%c3%a9veloppeur-dapplication---python-">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h1 id="d√©veloppez-une-architecture-back-end-s√©curis√©e-avec-python-et-sql">
  D√©veloppez une architecture back-end s√©curis√©e avec Python et SQL
  <a class="heading-link" href="#d%c3%a9veloppez-une-architecture-back-end-s%c3%a9curis%c3%a9e-avec-python-et-sql">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p><img src="https://user.oc-static.com/upload/2023/07/26/16903799358611_P12-02.png" alt="Epic Events"></p>
<p><a href="https://github.com/Mickael-Salmon/OCP12/"  class="external-link" target="_blank" rel="noopener">GitHub Repository</a></p>
<h1 id="contexte">
  Contexte
  <a class="heading-link" href="#contexte">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Epic Events est une entreprise qui organise des √©v√©nements (f√™tes,
r√©unions professionnelles, manifestations hors les murs) pour ses clients. Ils souhaitent d√©velopper un logiciel CRM (Customer Relationship
Management) pour am√©liorer leur travail.
Le logiciel CRM permet de collecter et de traiter les donn√©es des clients
et de leurs √©v√©nements, tout en facilitant la communication entre les
diff√©rents p√¥les de l&rsquo;entreprise.</p>
<h1 id="comment-epic-events-fonctionne">
  Comment Epic Events fonctionne
  <a class="heading-link" href="#comment-epic-events-fonctionne">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Nos √©quipes op√©rationnelles sont divis√©es en trois d√©partements :
‚óè le d√©partement commercial
‚óè le d√©partement support
‚óè le d√©partement gestion</p>
<p>Les commerciaux d√©marchent les clients. Ils cr√©ent et mettent √† jour
leurs profils sur la plateforme. Lorsqu‚Äôun client souhaite organiser un
√©v√©nement, un collaborateur du d√©partement gestion cr√©e un contrat et
l‚Äôassocie au client.</p>
<h1 id="exigences-techniques-et-de-s√©curit√©">
  Exigences techniques et de s√©curit√©
  <a class="heading-link" href="#exigences-techniques-et-de-s%c3%a9curit%c3%a9">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Vous devrez utiliser Python 3 (la version 3.9 ou une version plus
r√©cente).
‚óè L‚Äôapplication sera faite en ligne de commande.
‚óè Vous devrez emp√™cher les injections SQL.
‚óè Vous devrez mettre en ≈ìuvre et faire appliquer le principe du
moindre privil√®ge lors de l&rsquo;attribution de l&rsquo;acc√®s aux donn√©es.</p>
<p>Veillez √† ce que les utilisateurs n&rsquo;aient acc√®s qu&rsquo;aux donn√©es dont
ils ont besoin.</p>
<p>‚óè Une journalisation utile et efficace sera mise en place avec Sentry :
les applications doivent consigner les exceptions et les erreurs
produites</p>
<p>Une fois le contrat sign√©, le commercial cr√©e l‚Äô√©v√©nement dans la
plateforme et le d√©partement gestion d√©signe un membre du
d√©partement support qui sera responsable de l‚Äôorganisation et du
d√©roul√© de l‚Äô√©v√©nement.</p>
<h1 id="s√©curit√©-et-top-10-owasp">
  S√©curit√© et top 10 OWASP
  <a class="heading-link" href="#s%c3%a9curit%c3%a9-et-top-10-owasp">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<ul>
<li>
<p><strong>Authentification Robuste</strong>: L&rsquo;application impl√©mente une authentification des utilisateurs pour prot√©ger contre les risques tels que l&rsquo;<strong>A01:2021 - Broken Access Control</strong>.</p>
</li>
<li>
<p><strong>Gestion de Session S√©curis√©e</strong>: Les tokens JWT sont utilis√©s pour maintenir l&rsquo;√©tat de connexion pour aide √† pr√©venir les probl√®mes li√©s √† l&rsquo;<strong>A02:2021 - Cryptographic Failures</strong>.</p>
</li>
<li>
<p><strong>Stockage S√©curis√© des Mots de Passe</strong>: Les mots de passe sont hach√©s et sal√©s avec <code>bcrypt</code> pour contrer l&rsquo;<strong>A02:2021 - Cryptographic Failures</strong>.</p>
</li>
<li>
<p><strong>Contr√¥le d&rsquo;Acc√®s Bas√© sur les R√¥les</strong>: Des d√©corateurs tels que <code>@admin_required</code> et <code>@authenticated</code> sont utilis√©s pour restreindre l&rsquo;acc√®s √† certaines fonctionnalit√©s, relevant de l&rsquo;<strong>A01:2021 - Broken Access Control</strong>.</p>
</li>
<li>
<p><strong>Validation des Entr√©es Utilisateur</strong>: Le code utilise des validations pour les champs tels que les emails, les num√©ros de t√©l√©phone et force une complexit√© de mots de passe ce qui peut contribuer √† att√©nuer les risques d&rsquo;<strong>A03:2021 - Injection</strong>.</p>
</li>
<li>
<p><strong>Gestion des Erreurs</strong>: Les erreurs sont g√©r√©es correctement pour ne pas exposer des d√©tails sensibles, ce qui correspond √† l&rsquo;<strong>A04:2021 - Insecure Design</strong>.</p>
</li>
<li>
<p><strong>HTTPS/SSL</strong>: Bien que non mentionn√© explicitement dans le code, l&rsquo;utilisation de protocoles s√©curis√©s pour la communication est essentielle pour l&rsquo;<strong>A02:2021 - Cryptographic Failures</strong>. L&rsquo;application s&rsquo;ex√©cutant uniquement depuis le terminal, il est envisageable d&rsquo;effectuer une connexion SSH depuis un ordinateur distant pour acc√©der √† l&rsquo;application, profitant ainsi d&rsquo;une connexion s√©curis√©e via les paires de cl√©s priv√©es/publiques associ√©es au fonctionnement de SSH.</p>
</li>
<li>
<p><strong>Journalisation et Surveillance</strong>: L&rsquo;application impl√©mente une  journalisation des erreurs avec <code>Sentry</code>qui pourrait √™tre √©tendue pour surveiller les activit√©s suspectes, pertinent pour l&rsquo;<strong>A08:2021 - Software and Data Integrity Failures</strong>.</p>
</li>
<li>
<p><strong>Protection contre les injesctions SQL</strong>: L&rsquo;application utilise des requ√™tes param√©tr√©es pour pr√©venir les injections SQL, ce qui est une bonne pratique pour lutter contre l&rsquo;<strong>A01:2021 - Broken Access Control</strong> et le code utilise l&rsquo;ORM SQLAlchemy, qui, par d√©faut, aide √† pr√©venir les injections SQL en utilisant des requ√™tes param√©tr√©es plut√¥t que de construire des requ√™tes SQL √† partir de cha√Ænes concat√©n√©es. C&rsquo;est une mesure de protection suppl√©mentaire contre l&rsquo;<strong>A03:2021-Injection</strong> du Top 10 OWASP.</p>
</li>
<li>
<p><strong>Le syst√®me de gestion des droits d&rsquo;acc√®s</strong> (<code>accesscontrol</code>) dans l&rsquo;application respecte le principe du moindre privil√®ge, qui est une pratique de s√©curit√© fondamentale, correspondant √† l&rsquo;<strong>A05:2021-Security Misconfiguration</strong> du Top 10 OWASP. Voici ce qui a √©t√© impl√©ment√© :</p>
</li>
<li>
<p><strong>Authentification et gestion des sessions</strong> : Les utilisateurs doivent se connecter pour acc√©der √† l&rsquo;application, garantissant que seules les personnes authentifi√©es peuvent interagir avec le syst√®me.</p>
</li>
<li>
<p><strong>Contr√¥les d&rsquo;acc√®s bas√©s sur les r√¥les</strong> (<code>@admin_required</code>, <code>@authenticated</code>): Les d√©corateurs v√©rifient les r√¥les et les permissions avant d&rsquo;acc√©der √† certaines fonctions, s&rsquo;assurant que les utilisateurs ne peuvent ex√©cuter que les actions autoris√©es.</p>
</li>
<li>
<p><strong>Permissions restreintes</strong> : Les actions sont limit√©es en fonction des r√¥les de l&rsquo;utilisateur, par exemple, seuls les administrateurs peuvent acc√©der aux fonctions d&rsquo;administration des employ√©s.</p>
</li>
<li>
<p><strong>Gestion des tokens JWT</strong> : L&rsquo;application utilise des tokens JWT pour g√©rer les sessions, limitant l&rsquo;acc√®s aux utilisateurs avec un token valide.</p>
</li>
<li>
<p><strong>Gestion des mots de passe</strong> : Les mots de passe sont hach√©s avec <code>bcrypt</code>, une bonne pratique pour contrer l&rsquo;<strong>A02:2021 - Cryptographic Failures</strong>.</p>
</li>
<li>
<p><strong>Le CRUD a √©t√© impl√©ment√©</strong> via les models : CRUD est un acronyme pour Create, Read, Update, Delete, qui sont les quatre op√©rations de base pour la persistance des donn√©es.</p>
<table>
<thead>
<tr>
<th>Operation</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Create</td>
<td>Cr√©er de nouvelles entr√©es dans la base de donn√©es.</td>
</tr>
<tr>
<td>Read</td>
<td>Lire ou r√©cup√©rer des donn√©es existantes.</td>
</tr>
<tr>
<td>Update</td>
<td>Mettre √† jour ou modifier des donn√©es existantes.</td>
</tr>
<tr>
<td>Delete</td>
<td>Supprimer des donn√©es existantes.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>Mod√®les SQLAlchemy</strong> : Les models d√©finissent les droits d&rsquo;acc√®s aux donn√©es pour les utilisateurs afin d&rsquo;aider √† lutter contre l&rsquo;<strong>A01:2021 - Broken Access Control</strong>.</p>
</li>
<li>
<p><strong>Utiliser une table <code>user_sessions</code></strong> sur la BD pour g√©rer les tokens de session pour adresser les points suivants :</p>
</li>
<li>
<p><strong>Contr√¥le de session centralis√©</strong> : Les sessions peuvent √™tre g√©r√©es de mani√®re centralis√©e, ce qui permet aux administrateurs de r√©voquer l&rsquo;acc√®s imm√©diatement si n√©cessaire.</p>
</li>
<li>
<p><strong>Minimisation des risques de vol de tokens</strong> : Stocker les tokens c√¥t√© serveur au lieu de les laisser sur le disque dur de l&rsquo;utilisateur r√©duit le risque que ces tokens soient vol√©s par des malwares ou fuit√©s √† travers des attaques XSS.</p>
</li>
<li>
<p><strong>Gestion fine des acc√®s</strong> : Permet d&rsquo;impl√©menter des strat√©gies de s√©curit√© telles que l&rsquo;expiration de session ou des v√©rifications de s√©curit√© suppl√©mentaires pour des actions sensibles.Nous avons impl√©ment√© le login, logout et expiration de session.</p>
</li>
<li>
<p><strong>Conformit√© aux bonnes pratiques de s√©curit√©</strong> : Respecte le principe de moindre privil√®ge et s&rsquo;aligne avec les recommandations OWASP pour la gestion des sessions et des authentifications.</p>
</li>
</ul>
<h1 id="estimation-de-livraison">
  Estimation de livraison
  <a class="heading-link" href="#estimation-de-livraison">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>L‚Äôapplication CRM doit √™tre livr√©e dans deux mois.</p>
<h1 id="les-clients">
  Les clients
  <a class="heading-link" href="#les-clients">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<table>
<thead>
<tr>
<th>Information</th>
<th>Exemple</th>
</tr>
</thead>
<tbody>
<tr>
<td>Nom complet</td>
<td>Kevin Casey</td>
</tr>
<tr>
<td>Email</td>
<td><a href="mailto:kevin@startup.io" >kevin@startup.io</a></td>
</tr>
<tr>
<td>T√©l√©phone</td>
<td>+678 123 456 78</td>
</tr>
<tr>
<td>Nom de l‚Äôentreprise</td>
<td>Cool Startup LLC</td>
</tr>
<tr>
<td>Date de cr√©ation (premier contact)</td>
<td>18 avril 2021</td>
</tr>
<tr>
<td>Derni√®re mise √† jour/contact</td>
<td>29 mars 2023</td>
</tr>
<tr>
<td>Contact commercial chez Epic Events</td>
<td>Bill Boquet</td>
</tr>
</tbody>
</table>
<h1 id="les-contrats">
  Les contrats
  <a class="heading-link" href="#les-contrats">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Un contrat contient :
‚óè un identifiant unique ;
‚óè les informations sur le client ;
‚óè le contact commercial pour le contrat (= le commercial associ√© au
client) ;
‚óè le montant total du contrat ;
‚óè le montant restant √† payer ;
‚óè la date de cr√©ation du contrat ;
‚óè le statut du contrat (= si le contrat a √©t√© sign√©).</p>
<h1 id="les-√©v√©nements">
  Les √©v√©nements
  <a class="heading-link" href="#les-%c3%a9v%c3%a9nements">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>√Ä l‚Äôheure actuelle, le d√©partement support utilise une feuille Excel pour
suivre les √©v√©nements. Voici deux exemples d‚Äô√©v√©nements :</p>
<h2 id="exemple-1">
  Exemple 1
  <a class="heading-link" href="#exemple-1">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>John Ouick Wedding</td>
</tr>
<tr>
<td>2</td>
<td>Event ID 109</td>
</tr>
<tr>
<td>3</td>
<td>Contract ID 652</td>
</tr>
<tr>
<td>4</td>
<td>Client name John Ouick</td>
</tr>
<tr>
<td>5</td>
<td>Client contact <a href="mailto:john.ouick@gmail.com" >john.ouick@gmail.com</a> <!-- raw HTML omitted -->+1 234 567 8901</td>
</tr>
<tr>
<td>6</td>
<td>Event date start 4 Jun 2023 @ 1PM</td>
</tr>
<tr>
<td>7</td>
<td>Event date end 5 Jun 2023 @ 2AM</td>
</tr>
<tr>
<td>8</td>
<td>Support contact Kate Hastroff</td>
</tr>
<tr>
<td>9</td>
<td>Location 53 Rue du Ch√¢teau, 41120 Cand√©-sur-Beuvron, France</td>
</tr>
<tr>
<td>10</td>
<td>Attendees 75</td>
</tr>
<tr>
<td>11</td>
<td>Notes Wedding starts at 3PM, by the river. <!-- raw HTML omitted --> Catering is organized, reception starts at 5PM.</td>
</tr>
</tbody>
</table>
<h2 id="exemple-2">
  Exemple 2
  <a class="heading-link" href="#exemple-2">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Lou Bouzin General Assembly</td>
</tr>
<tr>
<td>2</td>
<td>Event ID 1023</td>
</tr>
<tr>
<td>3</td>
<td>Contract ID 412</td>
</tr>
<tr>
<td>4</td>
<td>Client name Lou Bouzin</td>
</tr>
<tr>
<td>5</td>
<td>Client contact Jacky Blangier <!-- raw HTML omitted --><a href="mailto:jacky@loubouzin.grd" >jacky@loubouzin.grd</a> <!-- raw HTML omitted -->+ 666 12345</td>
</tr>
<tr>
<td>6</td>
<td>Event date start 5 May 2023 @ 3PM</td>
</tr>
<tr>
<td>7</td>
<td>Event date end 5 May 2023 @ 5PM</td>
</tr>
<tr>
<td>8</td>
<td>Support contact Ali√©nor Vichum</td>
</tr>
<tr>
<td>9</td>
<td>Location Salle des f√™tes de Mufflins</td>
</tr>
<tr>
<td>10</td>
<td>Attendees 200</td>
</tr>
<tr>
<td>11</td>
<td>Notes Assembl√©e g√©n√©rale des actionnaires (~200 personnes).</td>
</tr>
</tbody>
</table>
<h1 id="besoins-et-fonctionnalit√©s">
  Besoins et fonctionnalit√©s
  <a class="heading-link" href="#besoins-et-fonctionnalit%c3%a9s">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<h2 id="besoins-g√©n√©raux">
  Besoins g√©n√©raux
  <a class="heading-link" href="#besoins-g%c3%a9n%c3%a9raux">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<table>
<thead>
<tr>
<th>Exigence</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Identifiants pour chaque collaborateur</td>
<td>Chaque collaborateur doit avoir ses propres identifiants pour utiliser la plateforme.</td>
</tr>
<tr>
<td>Association des collaborateurs √† un r√¥le</td>
<td>Chaque collaborateur est associ√© √† un r√¥le, d√©pendant de son d√©partement.</td>
</tr>
<tr>
<td>Stockage et mise √† jour des informations</td>
<td>La plateforme doit permettre de stocker et de mettre √† jour les informations concernant les clients, les contrats et les √©v√©nements.</td>
</tr>
<tr>
<td>Acc√®s en lecture seule pour tous les collaborateurs</td>
<td>Tous les collaborateurs doivent avoir la capacit√© d&rsquo;acc√©der √† toutes les informations concernant les clients, les contrats et les √©v√©nements en mode lecture seule.</td>
</tr>
</tbody>
</table>
<h2 id="besoins-individuels--√©quipe-de-gestion">
  Besoins individuels : √©quipe de gestion
  <a class="heading-link" href="#besoins-individuels--%c3%a9quipe-de-gestion">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<table>
<thead>
<tr>
<th>Fonctionnalit√©</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cr√©er, mettre √† jour et supprimer des collaborateurs</td>
<td>Permet de cr√©er, mettre √† jour et supprimer des collaborateurs dans le syst√®me CRM.</td>
</tr>
<tr>
<td>Cr√©er et modifier tous les contrats</td>
<td>Autorise la cr√©ation et la modification de tous les contrats dans le syst√®me.</td>
</tr>
<tr>
<td>Filtrer l‚Äôaffichage des √©v√©nements</td>
<td>Permet de filtrer l&rsquo;affichage des √©v√©nements, par exemple, afficher tous les √©v√©nements sans ¬´ support ¬ª associ√©.</td>
</tr>
<tr>
<td>Modifier des √©v√©nements</td>
<td>Autorise la modification d&rsquo;√©v√©nements, y compris l&rsquo;association d&rsquo;un collaborateur support √† l&rsquo;√©v√©nement.</td>
</tr>
</tbody>
</table>
<h2 id="besoins-individuels--√©quipe-commerciale">
  Besoins individuels : √©quipe commerciale
  <a class="heading-link" href="#besoins-individuels--%c3%a9quipe-commerciale">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<table>
<thead>
<tr>
<th>Fonctionnalit√©</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cr√©er des clients</td>
<td>Permet aux utilisateurs de cr√©er des clients, qui seront automatiquement associ√©s √† eux.</td>
</tr>
<tr>
<td>Mettre √† jour les clients responsables</td>
<td>Autorise les utilisateurs √† mettre √† jour les informations des clients dont ils sont responsables.</td>
</tr>
<tr>
<td>Modifier/mettre √† jour les contrats des clients</td>
<td>Permet de modifier ou de mettre √† jour les contrats des clients dont les utilisateurs sont responsables.</td>
</tr>
<tr>
<td>Filtrer l‚Äôaffichage des contrats</td>
<td>Autorise le filtrage des contrats selon certains crit√®res, comme ceux qui ne sont pas encore sign√©s ou pas encore enti√®rement pay√©s.</td>
</tr>
<tr>
<td>Cr√©er un √©v√©nement pour un client avec contrat</td>
<td>Permet de cr√©er un √©v√©nement pour un client qui a sign√© un contrat, offrant une gestion √©v√©nementielle int√©gr√©e pour les clients sous contrat.</td>
</tr>
</tbody>
</table>
<h2 id="besoins-individuels--√©quipe-support">
  Besoins individuels : √©quipe support
  <a class="heading-link" href="#besoins-individuels--%c3%a9quipe-support">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<table>
<thead>
<tr>
<th>Fonctionnalit√©</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Filtrer l&rsquo;affichage des √©v√©nements</td>
<td>Permet de filtrer l&rsquo;affichage des √©v√©nements pour n&rsquo;afficher que ceux attribu√©s √† l&rsquo;utilisateur.</td>
</tr>
<tr>
<td>Mettre √† jour les √©v√©nements responsables</td>
<td>Autorise les utilisateurs √† mettre √† jour les √©v√©nements dont ils sont responsables.</td>
</tr>
</tbody>
</table>
<h2 id="repr√©sentation-des-parcours-utilisateur-dans-lapplication">
  Repr√©sentation des parcours utilisateur dans l&rsquo;application
  <a class="heading-link" href="#repr%c3%a9sentation-des-parcours-utilisateur-dans-lapplication">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<pre tabindex="0"><code class="language-mermaid" data-lang="mermaid">graph TD
    A[D√©partement Commercial] --&gt;|D√©marche et cr√©e/mise √† jour des profils clients| B[Plateforme]
    C[D√©partement Gestion] --&gt;|Cr√©e un contrat et l&#39;associe au client| B
    B --&gt;|Contrat sign√©| D[Commercial cr√©e l&#39;√©v√©nement dans la plateforme]
    E[D√©partement Gestion] --&gt;|D√©signe un membre du Support| F[D√©partement Support]
    F --&gt;|Responsable de l&#39;organisation et du d√©roul√© de l&#39;√©v√©nement| G[√âv√©nement]
</code></pre><h2 id="r√©sum√©-du-cahier-des-charges">
  R√©sum√© du cahier des charges
  <a class="heading-link" href="#r%c3%a9sum%c3%a9-du-cahier-des-charges">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li><strong>Entreprise</strong>: Epic Events, organisateur d&rsquo;√©v√©nements</li>
<li><strong>Objectif</strong>: D√©velopper un logiciel CRM en Python 3.9+ pour la gestion des clients, contrats et √©v√©nements.</li>
<li><strong>D√©partements concern√©s</strong>: Commercial, Support, Gestion</li>
<li><strong>S√©curit√© et contraintes techniques</strong>: Pas d&rsquo;injections SQL, principe du moindre privil√®ge, journalisation avec Sentry.</li>
<li><strong>Livraison</strong>: Dans un mois, en ligne de commande, avec une documentation d&rsquo;impl√©mentation.</li>
</ul>
<h3 id="donn√©es-√†-g√©rer">
  Donn√©es √† g√©rer
  <a class="heading-link" href="#donn%c3%a9es-%c3%a0-g%c3%a9rer">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li><strong>Clients</strong>: Nom, Email, T√©l√©phone, etc.</li>
<li><strong>Contrats</strong>: ID unique, infos sur le client, montant, etc.</li>
<li><strong>√âv√©nements</strong>: ID, ID du contrat, nom du client, etc.</li>
</ul>
<h3 id="fonctionnalit√©s">
  Fonctionnalit√©s
  <a class="heading-link" href="#fonctionnalit%c3%a9s">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li><strong>Tous les collaborateurs</strong>: Acc√®s en lecture seule √† toutes les donn√©es</li>
<li><strong>√âquipe de gestion</strong>: CRUD sur les collaborateurs, contrats et √©v√©nements</li>
<li><strong>√âquipe commerciale</strong>: Gestion des clients et contrats</li>
<li><strong>√âquipe support</strong>: Filtrage et mise √† jour des √©v√©nements</li>
<li><strong>Administration</strong>: Gestion des employ√©s</li>
</ul>
<hr>
<h1 id="guide-dimpl√©mentation">
  Guide d&rsquo;impl√©mentation
  <a class="heading-link" href="#guide-dimpl%c3%a9mentation">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<h2 id="architecture-g√©n√©rale">
  Architecture g√©n√©rale
  <a class="heading-link" href="#architecture-g%c3%a9n%c3%a9rale">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>Mod√®le MVC (Mod√®le-Vue-Contr√¥leur) pour s√©parer les responsabilit√©s</li>
<li>Base de donn√©es POSTGRES SQL pour un prototype rapide (en gardant √† l&rsquo;esprit les contraintes de s√©curit√©)</li>
</ul>
<h3 id="authentification">
  Authentification
  <a class="heading-link" href="#authentification">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>Utilisation de jetons JWT pour authentifier les collaborateurs</li>
</ul>
<h3 id="d√©partement-commercial--sales">
  D√©partement Commercial / SALES
  <a class="heading-link" href="#d%c3%a9partement-commercial--sales">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>Interface en ligne de commande pour ajouter/mettre √† jour les clients et contrats</li>
<li>Filtres de recherche pour les contrats non sign√©s, etc.</li>
</ul>
<h3 id="d√©partement-support--support">
  D√©partement Support / SUPPORT
  <a class="heading-link" href="#d%c3%a9partement-support--support">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>Interface pour filtrer et mettre √† jour les √©v√©nements qui leur sont attribu√©s</li>
<li>Notifications pour les changements d&rsquo;√©tat des √©v√©nements</li>
</ul>
<h3 id="d√©partement-gestion--accounting">
  D√©partement Gestion / ACCOUNTING
  <a class="heading-link" href="#d%c3%a9partement-gestion--accounting">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>Interface admin pour la gestion des collaborateurs, contrats et √©v√©nements</li>
<li>Filtres pour afficher les √©v√©nements sans support, etc.</li>
</ul>
<h3 id="d√©partement-administration--admin">
  D√©partement Administration / ADMIN
  <a class="heading-link" href="#d%c3%a9partement-administration--admin">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>Utilis√© comme un r√¥le pour filtrer une permission sp√©ciale d&rsquo;acc√®s au menu d&rsquo;administration pour la gestion des employ√©s.</li>
</ul>
<h3 id="s√©curit√©">
  S√©curit√©
  <a class="heading-link" href="#s%c3%a9curit%c3%a9">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>Utilisation de requ√™tes param√©tr√©es pour pr√©venir les injections SQL</li>
<li>Impl√©mentation du principe du moindre privil√®ge via des r√¥les et permissions</li>
</ul>
<h3 id="journalisation">
  Journalisation
  <a class="heading-link" href="#journalisation">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>Int√©gration de Sentry pour capturer les erreurs et exceptions</li>
</ul>
<h1 id="diagram-erd">
  Diagram ERD
  <a class="heading-link" href="#diagram-erd">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<pre tabindex="0"><code class="language-mermaid" data-lang="mermaid">erDiagram
    Client ||--o{ Contract : has
    Employee ||--o{ Contract : manages
    Employee ||--o{ Event : organizes
    Contract ||--o{ Event : results_in
    Client {
        int id
        string full_name
        string email
        string phone
        string company_name
        date first_contact
        date last_update
        int commercial_contact_id
    }
    Contract {
        int id
        int client_id
        int commercial_id
        float total_amount
        float amount_to_be_paid
        date creation_date
        string status
    }
    Employee {
        int id
        string full_name
        string email
        date creation_date
        string department
    }
    Event {
        int id
        int contract_id
        int support_contact_id
        date start_date
        date end_date
        string location
        int attendees
        string notes
    }
</code></pre><h1 id="la-base-de-donn√©e">
  La base de donn√©e
  <a class="heading-link" href="#la-base-de-donn%c3%a9e">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<h2 id="1-installation-de-postgresql-et-pgadmin">
  1. Installation de PostgreSQL et PgAdmin:
  <a class="heading-link" href="#1-installation-de-postgresql-et-pgadmin">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Les √©tapes d&rsquo;installation impliquent la disponiiblit√© d&rsquo;un server linux Fedora/RedHat/CentOS.</p>
<h3 id="installation-du-server-psql">
  Installation du server PSQL
  <a class="heading-link" href="#installation-du-server-psql">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>PostgreSQL:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Shell" data-lang="Shell"><span style="display:flex;"><span>sudo dnf update sudo dnf install postgresql-server postgresql-contrib
</span></span></code></pre></div><h3 id="apr√®s-linstallation-initialiser-la-base-de-donn√©es">
  Apr√®s l&rsquo;installation, initialiser la base de donn√©es:
  <a class="heading-link" href="#apr%c3%a8s-linstallation-initialiser-la-base-de-donn%c3%a9es">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Shell" data-lang="Shell"><span style="display:flex;"><span>sudo postgresql-setup --initdb
</span></span></code></pre></div><h3 id="puis-d√©marrer-et-activer-le-service">
  Puis d√©marrer et activer le service:
  <a class="heading-link" href="#puis-d%c3%a9marrer-et-activer-le-service">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo systemctl start postgresql sudo systemctl enable postgresql
</span></span></code></pre></div><h3 id="pgadmin">
  PgAdmin:
  <a class="heading-link" href="#pgadmin">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Shell" data-lang="Shell"><span style="display:flex;"><span>sudo dnf install pgadmin4
</span></span></code></pre></div><h2 id="2-cr√©er-une-nouvelle-base-de-donn√©es">
  2. Cr√©er une nouvelle base de donn√©es:
  <a class="heading-link" href="#2-cr%c3%a9er-une-nouvelle-base-de-donn%c3%a9es">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h3 id="shell--se-connecter-√†-la-base-de-donn√©es-par-d√©faut-postgres-avec-lutilisateur-par-d√©faut-postgres-">
  SHELL : Se connecter √† la base de donn√©es par d√©faut (postgres) avec l&rsquo;utilisateur par d√©faut (postgres) :
  <a class="heading-link" href="#shell--se-connecter-%c3%a0-la-base-de-donn%c3%a9es-par-d%c3%a9faut-postgres-avec-lutilisateur-par-d%c3%a9faut-postgres-">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Shell" data-lang="Shell"><span style="display:flex;"><span> psql -U postgres -h localhost -d epic_events
</span></span></code></pre></div><h3 id="cr√©er-une-nouvelle-base-de-donn√©es-avec-le-nom--epic_events">
  Cr√©er une nouvelle base de donn√©es avec le nom : <code>epic_events</code>.
  <a class="heading-link" href="#cr%c3%a9er-une-nouvelle-base-de-donn%c3%a9es-avec-le-nom--epic_events">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<h2 id="3-cr√©er-un-utilisateur-pour-lapplication">
  3. Cr√©er un utilisateur pour l&rsquo;application:
  <a class="heading-link" href="#3-cr%c3%a9er-un-utilisateur-pour-lapplication">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>Cr√©er un nouvel utilisateur (ou &ldquo;Role&rdquo; dans le jargon PostgreSQL).</li>
<li>Attribuer un nom et un mot de passe et assurer les droits suffisants sur la base de donn√©es epic_events.</li>
</ul>
<h2 id="4-configurer-les-variables-denvironnement">
  4. Configurer les variables d&rsquo;environnement:
  <a class="heading-link" href="#4-configurer-les-variables-denvironnement">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>Les informations de connexion √† la base de donn√©es dans des variables d&rsquo;environnement pour des raisons de s√©curit√©. Nous utilisons la librairie  <code>dot_env</code></li>
</ul>
<h2 id="5-cr√©er-un-environnement-virtuel-python">
  5. Cr√©er un environnement virtuel Python:
  <a class="heading-link" href="#5-cr%c3%a9er-un-environnement-virtuel-python">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h3 id="dans-le-r√©pertoire-du-projet-cr√©e-un-environnement-virtuel">
  Dans le r√©pertoire du projet, cr√©e un environnement virtuel:
  <a class="heading-link" href="#dans-le-r%c3%a9pertoire-du-projet-cr%c3%a9e-un-environnement-virtuel">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Python" data-lang="Python"><span style="display:flex;"><span>python3 <span style="color:#ff7b72;font-weight:bold">-</span>m venv <span style="color:#ff7b72;font-weight:bold">.</span>venv
</span></span></code></pre></div><p>ou</p>
<div class="highlight"><pre tabindex="0" style="color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Python" data-lang="Python"><span style="display:flex;"><span>virtualenv <span style="color:#ff7b72;font-weight:bold">.</span>venv
</span></span></code></pre></div><h3 id="activer-lenvironnement">
  Activer l&rsquo;environnement:
  <a class="heading-link" href="#activer-lenvironnement">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Shell" data-lang="Shell"><span style="display:flex;"><span>source .venv/bin/activate
</span></span></code></pre></div><h3 id="installer-les-d√©pendances-comme-sqlalchemy-et-dot_env">
  Installer les d√©pendances comme <code>SQLAlchemy</code> et <code>Dot_env</code>:
  <a class="heading-link" href="#installer-les-d%c3%a9pendances-comme-sqlalchemy-et-dot_env">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<h4 id="cr√©er-un-fichier-pour-les-variables-denvironnement">
  Cr√©er un fichier pour les variables d&rsquo;environnement
  <a class="heading-link" href="#cr%c3%a9er-un-fichier-pour-les-variables-denvironnement">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<ol>
<li><strong>Cr√©e un fichier <code>.env</code> dans le r√©pertoire de ton projet</strong>. Ce fichier contiendra tes variables d&rsquo;environnement.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Shell" data-lang="Shell"><span style="display:flex;"><span>touch .env
</span></span></code></pre></div><h3 id="ouvrir-ce-fichier-avec-un-√©diteur-de-texte-et-ajouter-les-variables">
  Ouvrir ce fichier avec un √©diteur de texte** et ajouter les variables.
  <a class="heading-link" href="#ouvrir-ce-fichier-avec-un-%c3%a9diteur-de-texte-et-ajouter-les-variables">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>Par exemple :</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Shell" data-lang="Shell"><span style="display:flex;"><span><span style="color:#79c0ff">DATABASE_URL</span><span style="color:#ff7b72;font-weight:bold">=</span>postgresql://username:password@localhost/dbname <span style="color:#79c0ff">SECRET_KEY</span><span style="color:#ff7b72;font-weight:bold">=</span>mysecretkey
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#79c0ff">DATABASE_URL</span><span style="color:#ff7b72;font-weight:bold">=</span>postgresql://user:Password@localhost/epic_events
</span></span><span style="display:flex;"><span><span style="color:#79c0ff">EPICEVENTS_USER</span><span style="color:#ff7b72;font-weight:bold">=</span>user
</span></span><span style="display:flex;"><span><span style="color:#79c0ff">EPICEVENTS_PW</span><span style="color:#ff7b72;font-weight:bold">=</span>Password
</span></span><span style="display:flex;"><span><span style="color:#79c0ff">EPICEVENTS_SK</span><span style="color:#ff7b72;font-weight:bold">=</span>mySecretKey
</span></span></code></pre></div><p>Ici, <code>username</code> et <code>password</code> sont ceux d√©finis lors de la cr√©ation de l&rsquo;utilisateur PostgreSQL, et <code>dbname</code> est le nom de la base de donn√©es cr√©√©e pr√©c√©dememnt.</p>
<h3 id="pour-simplifier-linstallation-des-d√©pendances-n√©cessaires-au-projet">
  Pour simplifier l&rsquo;installation des d√©pendances n√©cessaires au projet
  <a class="heading-link" href="#pour-simplifier-linstallation-des-d%c3%a9pendances-n%c3%a9cessaires-au-projet">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Shell" data-lang="Shell"><span style="display:flex;"><span>pip install -r requirements.txt
</span></span></code></pre></div><h3 id="charger-les-variables-denvironnement-dans-lapplication">
  Charger les variables d&rsquo;environnement dans l&rsquo;application
  <a class="heading-link" href="#charger-les-variables-denvironnement-dans-lapplication">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li><strong>Installer la librairie <code>python-dotenv</code></strong>: Cette librairie permet de charger les variables d&rsquo;environnement depuis un fichier <code>.env</code> dans le projet.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Shell" data-lang="Shell"><span style="display:flex;"><span>pip install python-dotenv
</span></span></code></pre></div><ol start="2">
<li><strong>Charger les variables dans le code Python</strong>:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Python" data-lang="Python"><span style="display:flex;"><span><span style="color:#ff7b72">from</span> <span style="color:#ff7b72">dotenv</span> <span style="color:#ff7b72">import</span> load_dotenv <span style="color:#ff7b72">import</span> <span style="color:#ff7b72">os</span>  load_dotenv()  database_url <span style="color:#ff7b72;font-weight:bold">=</span> os<span style="color:#ff7b72;font-weight:bold">.</span>getenv(<span style="color:#a5d6ff">&#34;DATABASE_URL&#34;</span>) secret_key <span style="color:#ff7b72;font-weight:bold">=</span> os<span style="color:#ff7b72;font-weight:bold">.</span>getenv(<span style="color:#a5d6ff">&#34;SECRET_KEY&#34;</span>)
</span></span></code></pre></div><p>Ici, <code>load_dotenv()</code> lit le fichier <code>.env</code> et charge les variables pour les utiliser avec `os.getenv().</p>
<h1 id="d√©monstration">
  D√©monstration
  <a class="heading-link" href="#d%c3%a9monstration">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Dans le cadre de ce projet, certains composants sont volontairement exclus de synchronisation avec GitHub comme le fichier .env pour illustrer une bonne pratique consistant √† ne pas partager les informations sensibles sur un d√©p√¥t public.
La base de donn√©e est √©galement exclue de la synchronisation avec GitHub pour des raisons de s√©curit√©. Un backup est disponible sur demande g√©n√©r√© avec la commande suivante: <code>pg_dump -U postgres -W -F c -d epic_events &gt; backup_epicevents.backup </code></p>
<h1 id="frontend">
  FRONTEND
  <a class="heading-link" href="#frontend">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Conform√©ment au cahier de charges, la partie cliente est enti√®rement r√©alis√©e en ligne de commande en utilisant la librairie RICH.</p>
<h1 id="backend">
  BACKEND
  <a class="heading-link" href="#backend">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Le backend est r√©alis√© en Python 3.12 et utilise les librairies suivantes:</p>
<table>
<thead>
<tr>
<th>D√©pendance</th>
<th>Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>bcrypt</td>
<td>4.0.1</td>
</tr>
<tr>
<td>certifi</td>
<td>2023.7.22</td>
</tr>
<tr>
<td>cffi</td>
<td>1.16.0</td>
</tr>
<tr>
<td>cryptography</td>
<td>41.0.5</td>
</tr>
<tr>
<td>DateTime</td>
<td>5.2</td>
</tr>
<tr>
<td>factory-boy</td>
<td>3.3.0</td>
</tr>
<tr>
<td>Faker</td>
<td>19.13.0</td>
</tr>
<tr>
<td>greenlet</td>
<td>3.0.1</td>
</tr>
<tr>
<td>iniconfig</td>
<td>2.0.0</td>
</tr>
<tr>
<td>Jinja2</td>
<td>3.1.2</td>
</tr>
<tr>
<td>markdown-it-py</td>
<td>3.0.0</td>
</tr>
<tr>
<td>MarkupSafe</td>
<td>2.1.3</td>
</tr>
<tr>
<td>mdurl</td>
<td>0.1.2</td>
</tr>
<tr>
<td>packaging</td>
<td>23.2</td>
</tr>
<tr>
<td>pluggy</td>
<td>1.3.0</td>
</tr>
<tr>
<td>psycopg2-binary</td>
<td>2.9.9</td>
</tr>
<tr>
<td>pwinput</td>
<td>1.0.3</td>
</tr>
<tr>
<td>pycparser</td>
<td>2.21</td>
</tr>
<tr>
<td>Pygments</td>
<td>2.16.1</td>
</tr>
<tr>
<td>PyJWT</td>
<td>2.8.0</td>
</tr>
<tr>
<td>PyMySQL</td>
<td>1.1.0</td>
</tr>
<tr>
<td>pytest</td>
<td>7.4.3</td>
</tr>
<tr>
<td>pytest-html</td>
<td>4.1.1</td>
</tr>
<tr>
<td>pytest-metadata</td>
<td>3.0.0</td>
</tr>
<tr>
<td>python-dateutil</td>
<td>2.8.2</td>
</tr>
<tr>
<td>python-dotenv</td>
<td>1.0.0</td>
</tr>
<tr>
<td>pytz</td>
<td>2023.3.post1</td>
</tr>
<tr>
<td>rich</td>
<td>13.6.0</td>
</tr>
<tr>
<td>sentry-sdk</td>
<td>1.34.0</td>
</tr>
<tr>
<td>setuptools</td>
<td>68.2.2</td>
</tr>
<tr>
<td>six</td>
<td>1.16.0</td>
</tr>
<tr>
<td>SQLAlchemy</td>
<td>2.0.23</td>
</tr>
<tr>
<td>typing_extensions</td>
<td>4.8.0</td>
</tr>
<tr>
<td>urllib3</td>
<td>2.0.7</td>
</tr>
<tr>
<td>Werkzeug</td>
<td>3.0.1</td>
</tr>
<tr>
<td>zope.interface</td>
<td>6.1</td>
</tr>
</tbody>
</table>
<h1 id="structure-de-dossiers">
  Structure de dossiers
  <a class="heading-link" href="#structure-de-dossiers">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<table>
<thead>
<tr>
<th>Dossier/Fichier</th>
<th>Sous-Dossiers/Fichiers</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>accesscontrol/</code></td>
<td><code>auth_decorators.py</code>, <code>database_session.py</code>, <code>env_variables.py</code>, <code>functionnalities.py</code>, <code>__init__.py</code>, <code>jwt_token.py</code>, <code>load_current_user.py</code>, <code>sec_sessions.py</code>, <code>test_jwt_token.py</code></td>
</tr>
<tr>
<td><code>conftest.py</code></td>
<td></td>
</tr>
<tr>
<td><code>controllers/</code></td>
<td><code>authentication_controller.py</code>, <code>clients.py</code>, <code>contracts.py</code>, <code>employees.py</code>, <code>events.py</code>, <code>__init__.py</code>, <code>main_controller.py</code>, <code>reports.py</code></td>
</tr>
<tr>
<td><code>factories/</code></td>
<td><code>clientFactory.py</code>, <code>contractFactory.py</code>, <code>employeeFactory.py</code>, <code>__init__.py</code></td>
</tr>
<tr>
<td><code>main.py</code></td>
<td></td>
</tr>
<tr>
<td><code>managers/</code></td>
<td><code>clients.py</code>, <code>contracts.py</code>, <code>employees.py</code>, <code>events.py</code>, <code>__init__.py</code>, <code>manager.py</code></td>
</tr>
<tr>
<td><code>models/</code></td>
<td><code>clients.py</code>, <code>contracts.py</code>, <code>employees.py</code>, <code>events.py</code>, <code>__init__.py</code>, <code>user.py</code></td>
</tr>
<tr>
<td><code>README.md</code></td>
<td></td>
</tr>
<tr>
<td><code>requirements.txt</code></td>
<td></td>
</tr>
<tr>
<td><code>tests/</code></td>
<td><code>db/test_clients.py</code>, <code>db_create_tables.py</code>, <code>db_delete_tables.py</code>, <code>db_init.py</code>, <code>db_test_check_tables.py</code>, <code>db_test_connection.py</code>, <code>factories/</code>, <code>test_accounting_contract_Create.py</code>, <code>test_createEmployee.py</code>, <code>unit/settings_pytest.py</code>, <code>unit/test_create_customer.py</code>, <code>unit/test_createEmployee.py</code></td>
</tr>
<tr>
<td><code>utils/</code></td>
<td><code>database/clients_data.json</code>, <code>database/contracts_data.json</code>, <code>database/database.py</code>, <code>database/db_create_secret_key.py</code>, <code>database/db_init.py</code>, <code>database/employees_data.json</code>, <code>database/events_data_contact_id.json</code>, <code>database/events_data.json</code>, <code>database/login.py</code>, <code>database/logout.py</code>, <code>database/register.py</code>, <code>Fernet_cryptokey_gen.py</code>, <code>__init__.py</code>, <code>reset_password_user.py</code>, <code>token_storage.py</code></td>
</tr>
<tr>
<td><code>views/</code></td>
<td><code>client_view.py</code>, <code>contract_view.py</code>, <code>employee_view.py</code>, <code>event_view.py</code>, <code>__init__.py</code>, <code>login_view.py</code>, <code>logout_view.py</code>, <code>menu.py</code>, <code>report_view.py</code></td>
</tr>
</tbody>
</table>
<h1 id="r√©f√©rences-">
  R√©f√©rences :
  <a class="heading-link" href="#r%c3%a9f%c3%a9rences-">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<ul>
<li><a href="https://openclassrooms.com/fr/paths/68-developpeur-dapplication-python"  class="external-link" target="_blank" rel="noopener">OpenClassrooms</a></li>
<li><a href="https://www.postgresql.org/docs/current/app-psql.html"  class="external-link" target="_blank" rel="noopener">PSQL</a></li>
<li><a href="https://www.pgadmin.org/docs/pgadmin4/latest/index.html"  class="external-link" target="_blank" rel="noopener">PgAdmin</a></li>
<li><a href="https://github.com/microsoft/vscode-postgresql"  class="external-link" target="_blank" rel="noopener">VScode-postgresql</a></li>
<li><a href="https://rich.readthedocs.io/en/latest/"  class="external-link" target="_blank" rel="noopener">Rich</a></li>
<li><a href="https://docs.sqlalchemy.org/en/14/"  class="external-link" target="_blank" rel="noopener">SQLAlchemy</a></li>
<li><a href="https://pypi.org/project/python-dotenv/"  class="external-link" target="_blank" rel="noopener">Python-dotenv</a></li>
<li><a href="https://pyjwt.readthedocs.io/en/stable/"  class="external-link" target="_blank" rel="noopener">PyJWT</a></li>
<li><a href="https://docs.pytest.org/en/6.2.x/"  class="external-link" target="_blank" rel="noopener">Pytest</a></li>
<li><a href="https://docs.sentry.io/platforms/python/"  class="external-link" target="_blank" rel="noopener">Sentry</a></li>
<li><a href="https://faker.readthedocs.io/en/master/"  class="external-link" target="_blank" rel="noopener">Faker</a></li>
<li><a href="https://factoryboy.readthedocs.io/en/stable/"  class="external-link" target="_blank" rel="noopener">FactoryBoy</a></li>
<li><a href="https://docs.python.org/3/library/datetime.html"  class="external-link" target="_blank" rel="noopener">DateTime</a></li>
<li><a href="https://pypi.org/project/bcrypt/"  class="external-link" target="_blank" rel="noopener">Bcrypt</a></li>
<li><a href="https://cryptography.io/en/latest/"  class="external-link" target="_blank" rel="noopener">Cryptography</a></li>
<li><a href="https://doc.fedora-fr.org/wiki/Installation_et_configuration_de_PostgreSQL"  class="external-link" target="_blank" rel="noopener">Fedora - Installation et configuration PostgreSQL Server</a></li>
</ul>

  </article>
</section>

  

    </div>

    <footer class="footer">
  <section class="container">
    ¬©
    
      2001 -
    
    2023
     Micka√´l Salmon 
    ¬∑
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
